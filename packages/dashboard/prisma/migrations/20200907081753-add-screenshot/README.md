# Migration `20200907081753-add-screenshot`

This migration has been generated by Nirmalya Ghosh at 9/7/2020, 1:47:53 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."Screenshot" (
"id" text   NOT NULL ,
"image" text   NOT NULL ,
"pageId" text   NOT NULL ,
PRIMARY KEY ("id")
)

ALTER TABLE "public"."Screenshot" ADD FOREIGN KEY ("pageId")REFERENCES "public"."Page"("id") ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200907074238-add-site-relation-to-page..20200907081753-add-screenshot
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model User {
   id    Int    @default(autoincrement()) @id
@@ -14,12 +14,20 @@
 model Site {
   id    String    @default(uuid()) @id
   name String
+  pages Page[]
 }
 model Page {
   id    String    @default(uuid()) @id
   url String
   site    Site     @relation(fields: [siteId], references: [id])
   siteId String
 }
+
+model Screenshot {
+ id    String    @default(uuid()) @id
+ image String
+ page    Page     @relation(fields: [pageId], references: [id])
+ pageId String
+}
```
