{"version":3,"file":"index.umd.js","sources":["../src/send-data-to-db.ts","../src/launch-playwright.ts","../src/index.tsx"],"sourcesContent":["import fetch from \"node-fetch\";\n\nconst sendDataToDB = async (data: any, url: string, name: string) => {\n  console.log(data, url, name);\n\n  const response = await fetch(\"http://localhost:3000/api/screenshots\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  });\n\n  return response.json();\n};\n\nexport default sendDataToDB;\n","import sendDataToDB from \"./send-data-to-db\"\n\nconst playwright = require(\"playwright\")\n\nconst launchPlaywright = async (name: string, args: string[], url: string) => {\n  const browser = await playwright[name].launch({ args })\n  const page = await browser.newPage()\n\n  await page.goto(url)\n\n  const buffer = await page.screenshot()\n  const image = buffer.toString(\"base64\")\n\n  await sendDataToDB(image, url, name)\n\n  await browser.close()\n}\n\nexport default launchPlaywright\n","import launchPlaywright from \"./launch-playwright\";\n\n(async () => {\n  const urlsArray = [\n    \"https://github-lighthouse-check.vercel.app/\",\n    \"https://github-lighthouse-check.vercel.app/home\",\n    \"https://github-lighthouse-check.vercel.app/dashboard\",\n    \"https://github-lighthouse-check.vercel.app/posts/1234\",\n  ];\n\n  urlsArray.map(async (url: string) => {\n    await launchPlaywright(\"webkit\", [], url);\n    await launchPlaywright(\"firefox\", [], url);\n    await launchPlaywright(\"chromium\", [], url);\n  });\n})();\n"],"names":["sendDataToDB","data","url","name","console","log","fetch","method","headers","body","JSON","stringify","response","json","playwright","require","launchPlaywright","args","launch","browser","newPage","page","screenshot","buffer","image","toString","close","urlsArray","map"],"mappings":";;;;;;;EAEA,IAAMA,YAAY,YAAZA,YAAY,CAAUC,IAAV,EAAqBC,GAArB,EAAkCC,IAAlC;EAAA;EAChBC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ,EAAkBC,GAAlB,EAAuBC,IAAvB;6BAEuBG,KAAK,CAAC,uCAAD,EAA0C;EACpEC,MAAAA,MAAM,EAAE,MAD4D;EAEpEC,MAAAA,OAAO,EAAE;EACP,wBAAgB;EADT,OAF2D;EAKpEC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeV,IAAf;EAL8D,KAA1C,kBAAtBW;EAQN,aAAOA,QAAQ,CAACC,IAAT,EAAP;;EACD,GAZiB;EAAA;EAAA;EAAA,CAAlB;;ECAA,IAAMC,UAAU,GAAGC,OAAO,CAAC,YAAD,CAA1B;;EAEA,IAAMC,gBAAgB,YAAhBA,gBAAgB,CAAUb,IAAV,EAAwBc,IAAxB,EAAwCf,GAAxC;EAAA;6BACEY,UAAU,CAACX,IAAD,CAAV,CAAiBe,MAAjB,CAAwB;EAAED,MAAAA,IAAI,EAAJA;EAAF,KAAxB,kBAAhBE;+BACaA,OAAO,CAACC,OAAR,mBAAbC;iCAEAA,IAAI,QAAJ,CAAUnB,GAAV;mCAEemB,IAAI,CAACC,UAAL,mBAAfC;EACN,gBAAMC,KAAK,GAAGD,MAAM,CAACE,QAAP,CAAgB,QAAhB,CAAd;qCAEMzB,YAAY,CAACwB,KAAD,EAAQtB,GAAR,EAAaC,IAAb;uCAEZgB,OAAO,CAACO,KAAR;;;;;;EACP,GAZqB;EAAA;EAAA;EAAA,CAAtB;;;ECDE,MAAMC,SAAS,GAAG,CAChB,6CADgB,EAEhB,iDAFgB,EAGhB,sDAHgB,EAIhB,uDAJgB,CAAlB;EAOAA,EAAAA,SAAS,CAACC,GAAV,WAAqB1B,GAArB;EAAA;+BACQc,gBAAgB,CAAC,QAAD,EAAW,EAAX,EAAed,GAAf;iCAChBc,gBAAgB,CAAC,SAAD,EAAY,EAAZ,EAAgBd,GAAhB;mCAChBc,gBAAgB,CAAC,UAAD,EAAa,EAAb,EAAiBd,GAAjB;;;EACvB,KAJD;EAAA;EAAA;EAAA;EAKD;;;;;;"}