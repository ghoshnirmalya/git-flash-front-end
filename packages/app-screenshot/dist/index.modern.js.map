{"version":3,"file":"index.modern.js","sources":["../src/send-data-to-db.ts","../src/launch-playwright.ts","../src/index.tsx"],"sourcesContent":["import fetch from \"node-fetch\";\n\nconst sendDataToDB = async (data: any, url: string, name: string) => {\n  console.log(data, url, name);\n\n  const response = await fetch(\"http://localhost:3000/api/screenshots\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  });\n\n  return response.json();\n};\n\nexport default sendDataToDB;\n","import sendDataToDB from \"./send-data-to-db\"\n\nconst playwright = require(\"playwright\")\n\nconst launchPlaywright = async (name: string, args: string[], url: string) => {\n  const browser = await playwright[name].launch({ args })\n  const page = await browser.newPage()\n\n  await page.goto(url)\n\n  const buffer = await page.screenshot()\n  const image = buffer.toString(\"base64\")\n\n  await sendDataToDB(image, url, name)\n\n  await browser.close()\n}\n\nexport default launchPlaywright\n","import launchPlaywright from \"./launch-playwright\";\n\n(async () => {\n  const urlsArray = [\n    \"https://github-lighthouse-check.vercel.app/\",\n    \"https://github-lighthouse-check.vercel.app/home\",\n    \"https://github-lighthouse-check.vercel.app/dashboard\",\n    \"https://github-lighthouse-check.vercel.app/posts/1234\",\n  ];\n\n  urlsArray.map(async (url: string) => {\n    await launchPlaywright(\"webkit\", [], url);\n    await launchPlaywright(\"firefox\", [], url);\n    await launchPlaywright(\"chromium\", [], url);\n  });\n})();\n"],"names":["sendDataToDB","data","url","name","console","log","response","fetch","method","headers","body","JSON","stringify","json","playwright","require","launchPlaywright","args","browser","launch","page","newPage","goto","buffer","screenshot","image","toString","close","urlsArray","map"],"mappings":";;AAEA,MAAMA,YAAY,GAAG,OAAOC,IAAP,EAAkBC,GAAlB,EAA+BC,IAA/B;AACnBC,EAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ,EAAkBC,GAAlB,EAAuBC,IAAvB;AAEA,QAAMG,QAAQ,GAAG,MAAMC,KAAK,CAAC,uCAAD,EAA0C;AACpEC,IAAAA,MAAM,EAAE,MAD4D;AAEpEC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT,KAF2D;AAKpEC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeX,IAAf;AAL8D,GAA1C,CAA5B;AAQA,SAAOK,QAAQ,CAACO,IAAT,EAAP;AACD,CAZD;;ACAA,MAAMC,UAAU,GAAGC,OAAO,CAAC,YAAD,CAA1B;;AAEA,MAAMC,gBAAgB,GAAG,OAAOb,IAAP,EAAqBc,IAArB,EAAqCf,GAArC;AACvB,QAAMgB,OAAO,GAAG,MAAMJ,UAAU,CAACX,IAAD,CAAV,CAAiBgB,MAAjB,CAAwB;AAAEF,IAAAA;AAAF,GAAxB,CAAtB;AACA,QAAMG,IAAI,GAAG,MAAMF,OAAO,CAACG,OAAR,EAAnB;AAEA,QAAMD,IAAI,CAACE,IAAL,CAAUpB,GAAV,CAAN;AAEA,QAAMqB,MAAM,GAAG,MAAMH,IAAI,CAACI,UAAL,EAArB;AACA,QAAMC,KAAK,GAAGF,MAAM,CAACG,QAAP,CAAgB,QAAhB,CAAd;AAEA,QAAM1B,YAAY,CAACyB,KAAD,EAAQvB,GAAR,EAAaC,IAAb,CAAlB;AAEA,QAAMe,OAAO,CAACS,KAAR,EAAN;AACD,CAZD;;ACFA,CAAC;AACC,QAAMC,SAAS,GAAG,CAChB,6CADgB,EAEhB,iDAFgB,EAGhB,sDAHgB,EAIhB,uDAJgB,CAAlB;AAOAA,EAAAA,SAAS,CAACC,GAAV,CAAc,MAAO3B,GAAP;AACZ,UAAMc,gBAAgB,CAAC,QAAD,EAAW,EAAX,EAAed,GAAf,CAAtB;AACA,UAAMc,gBAAgB,CAAC,SAAD,EAAY,EAAZ,EAAgBd,GAAhB,CAAtB;AACA,UAAMc,gBAAgB,CAAC,UAAD,EAAa,EAAb,EAAiBd,GAAjB,CAAtB;AACD,GAJD;AAKD,CAbD"}